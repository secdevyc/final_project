<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="Fitbook">
  <head>
    <meta charset="utf-8">
    <title></title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" charset="utf-8"></script>
    <script src="javascripts/app.js" charset="utf-8"></script>
  </head>
  <body ng-controller = "MainController as ctrl">
    <h1>Fitbook</h1>
    <div class="container" ng-repeat="post in ctrl.posts">
      <h2>Posts</h2>
      <div class="">
        <img ng-src="{{post.image}}" />
        <dd>posted by:{{ post.name }}</dd>
        <dd>{{ post.name }}'s {{ post.workout }} workout at Intensity level {{ post.intensity }}</dd>
        <dd>felt good? {{ post.feel_good }}</dd>
        <dd>new_goal:{{ post.new_goal }}</dd>
        <button ng-click="ctrl.deletePost(post)">delete</button>
        <button ng-click="ctrl.indexOfEditForm = !ctrl.indexOfEditForm">edit</button>
      </div>
      <div>
        <form ng-if="ctrl.indexOfEditForm" ng-submit="ctrl.editPost(post)">
          <label for="name">Name:</label>
          <input type="text"
                 id="name"
                 ng-value="post.name"
                 ng-model="ctrl.updatedName"
                 />
          <label for="image">Image:</label>
          <input type="text"
                  id="name"
                  ng-value="post.image"
                  ng-model="ctrl.updatedImage"
                  />
          <label for="workout">Workout:</label>
          <input type="text"
                  id="workout"
                  ng-value="post.workout"
                  ng-model="ctrl.updatedWorkout"
                  />
          <label for="intensity">Intensity:</label>
          <input type="number"
                 id="intensity"
                 ng-value="post.intensity"
                 ng-model="ctrl.updatedIntensity"
                 />
          <label for="name">Name:</label>
          <input type="text"
                id="name"
                ng-value="post.name"
                ng-model="ctrl.updatedName"
                />
          <label for="new_goal">New Goal:</label>
          <input type="text"
                 id="new_goal"
                 ng-value="post.new_goal"
                 ng-model="ctrl.updatedNewGoal"
                 />
          <label for="feel_good">Feel Good?</label>
          <input type="checkbox"
                 id="feel_good"
                 ng-value="post.feel_good"
                 ng-model="ctrl.updatedFeelGood"
                 />
          <input type="submit" value="update post" />
        </form>
      </div>
    </div>
    <div>
      <form ng-submit="ctrl.createPost()">
        <input type="text" placeholder="name" ng-model="ctrl.name"/>
        <input type="text" placeholder="workout" ng-model="ctrl.workout" />
        <input type="number" placeholder="intensity 1-5" ng-model="ctrl.intensity" />
        <input type="text" placeholder="new goal" ng-model="ctrl.new_goal" />
        <input type="text" placeholder="image or gif" ng-model="ctrl.image" />
        Feel good? <input type="checkbox" ng-model="ctrl.feel_good" />
        <input type="submit" value="add post" />
      </form>
    </div>
  </body>
</html>
