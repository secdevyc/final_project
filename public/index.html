<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="Fitbook">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" charset="utf-8"></script>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="javascripts/app.js" charset="utf-8"></script>
    <link href="https://fonts.googleapis.com/css?family=Muli:700|PT+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/style.css">
  </head>
  <body ng-controller = "MainController as ctrl">

    <div class="header">
      <h1>fitbook</h1>
      <div>
        <h4><a href="/signin.html">SignIn</a></h4>
        <h4><a href="/register.html">Register</a></h4>
      </div>
    </div>

      <!-- <section ng-if="ctrl.showRegister" class="container registerForm">
        <header class="header">
          <h1>register</h1>
        </header>
          <form ng-submit="ctrl.handleRegister()" id="registrationForm">
            <input type="email" id="emailInputRegister" placeholder="Email" pattern=".*" required>
            <input type="password" id="passwordInputRegister" placeholder="Password" pattern=".*" required>
            <input type="password" id="password2InputRegister" placeholder="Confirm Password" pattern=".*" required>

            <input type="submit" value="Register">
          </form>
      </section> -->

    <!-- <section ng-if="ctrl.showSignIn" class="container signinForm">
      <header class="header">
        <h1>sign in</h1>
      </header>
        <form id="signinForm">
          <input type="email" id="emailInputSignin" placeholder="Email" required>
          <input type="password" id="passwordInputSignin" placeholder="Password" pattern=".*" required>

          <input type="submit" value="Sign in" ng-click="ctrl.showIndex = !ctrl.showIndex">
        </form>
    </section> -->

    <main class="container">
      <div>
        <form ng-if="" ng-submit="">
          email: <input type="text" ng-model="auth.email" />
          password: <input type="text" ng-model="auth.password" />
          <input type="submit" />
        </form>
        <form ng-if="" ng-submit="">
          code: <input type="text" ng-mode="auth.code" />
          <input type="submit" />
        </form>
      </div>
      <div>
        <div class="card new-post">
          <form ng-submit="ctrl.createPost()">
            <input type="text" placeholder="name" ng-model="ctrl.name"/>
            <input type="text" placeholder="title" ng-mode="ctrl.title" />
            <input type="text" placeholder="workout" ng-model="ctrl.workout" />
            <input type="number" placeholder="intensity 1-5" ng-model="ctrl.intensity" />
            <input type="text" placeholder="new goal" ng-model="ctrl.new_goal" />
            <input type="text" placeholder="image or gif" ng-model="ctrl.image" />
            <label>
              <input type="checkbox" ng-model="ctrl.feel_good"/>
              <span>Feel Good?</span>
            </label><br />
            <input type="submit" value="add post" />
          </form>
        </div>
        <div class="card" ng-repeat="post in ctrl.posts">
          <div class="right-align"><span><h5>{{ post.name }}</h5></span>is feeling..</div>
          <div class="title"><h1>{{ post.title }}</h1></div>
            <div class="image">
              <img ng-src="{{post.image}}" />
            </div>
            <div class="info">
              <dd>after a <span>{{ post.workout }}</span> workout at Intensity level <span>{{ post.intensity }}</span></dd>
              <dd>felt good?
                <p ng-if="post.feel_good == true"><span>HELL YEAH!!!</span></p>
                <p ng-if="post.feel_good == null"><span>HELL NO</span></p>
              </dd>
              <dd>new goal: <span>{{ post.new_goal }}</span></dd>
              <div class="buttons">
                <button class="button" ng-click="ctrl.deletePost(post)">delete</button>
                <button class="button" ng-click="ctrl.indexOfEditForm = $index" ng-dblclick="ctrl.indexOfEditForm = null">edit</button>
                <div class="icons">
                  <div class="thumbs">
                    <img src="/images/thumb-up.png" alt="">
                    <span>Like</span>
                  </div>
                  <div class="comment">
                    <img src="/images/comment.jpg" alt="">
                    <span>Comment</span>
                  </div>
                </div>
              </div>
              </div>
            <div class="edit-form">
              <form ng-if="ctrl.indexOfEditForm === $index" ng-submit="ctrl.editPost(post)">
                <label for="name">Name:</label>
                <input type="text"
                       id="name"
                       ng-value="post.name"
                       ng-model="ctrl.updatedName"
                       />
                <label for="title">Title:</label>
                <input type="text"
                       id="title"
                       ng-value="post.title"
                       ng-model="ctrl.updatedTitle"
                       />
                <label for="image">Image:</label>
                <input type="text"
                        id="name"
                        ng-value="post.image"
                        ng-model="ctrl.updatedImage"
                        />
                <label for="workout">Workout:</label>
                <input type="text"
                        id="workout"
                        ng-value="post.workout"
                        ng-model="ctrl.updatedWorkout"
                        />
                <label for="intensity">Intensity:</label>
                <input type="number"
                       id="intensity"
                       ng-value="post.intensity"
                       ng-model="ctrl.updatedIntensity"
                       />
                <label for="new_goal">New Goal:</label>
                <input type="text"
                       id="new_goal"
                       ng-value="post.new_goal"
                       ng-model="ctrl.updatedNewGoal"
                       />
                <label for="feel_good">
                <input type="checkbox"
                        id="feel_good"
                        ng-checked="post.feel_good"
                        ng-model="ctrl.updatedFeelGood"/>
                 <span>Feel Good?</span>
                </label>
                <input type="submit" value="update post" />
              </form>
            </div>
          </div>
      </div>
    </main>
    <script src="js/vendor/jquery-3.1.0.js"></script>
    <script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/vendor/aws-cognito-sdk.min.js"></script>
    <script src="js/vendor/amazon-cognito-identity.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/cognito-auth.js"></script>
  </body>
</html>
